file: '../../src/plugins/elements/text-revealing/parseTextRevealing.js'
group: parser
suites: [parseTextRevealing]
---
suite: parseTextRevealing
exportName: parseTextRevealing
---
case: Test parsing simple text-revealing object with single content
in:
  - state:
      id: 'tr1'
      type: "text-revealing"
      content:
        - text: "This is a simple text revealing example"
      x: 100
      y: 100
      textStyle:
        fontSize: 24
        fill: "#333333"
        fontFamily: "Arial"
        breakWords: false
out:
  id: "tr1"
  type: "text-revealing"
  content:
    - lineParts:
        - text: "This is a simple text revealing example"
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 500
            breakWords: false
            strokeColor: "transparent"
            strokeWidth: 0
          x: 0
          y: 0
      y: 0
      lineMaxHeight: 19
  width: 500
  height: 19
  x: 100
  y: 100
  originX: 0
  originY: 0
  alpha: 1
  speed: 50
  revealEffect: typewriter 
  textStyle:
    strokeColor: "transparent"
    strokeWidth: 0
    fontSize: 24
    fill: "#333333"
    fontFamily: "Arial"
    align: "left"
    lineHeight: 1.2
    wordWrap: true
    breakWords: false
    wordWrapWidth: 0
---
case: Test parsing text-revealing with word wrapping
in:
  - state:
      id: 'tr2'
      type: "text-revealing"
      content:
        - text: "This is a longer text that should wrap to multiple lines when it exceeds the specified width constraint for proper text layout demonstration."
      x: 50
      y: 50
      width: 300
      textStyle:
        fontSize: 20
        fill: "#2c3e50"
        fontFamily: "Arial"
        breakWords: false
out:
  id: "tr2"
  type: "text-revealing"
  content:
    - lineParts:
        - text: "This is a longer text that should wrap to"
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 300
            breakWords: false
            strokeColor: "transparent"
            strokeWidth: 0
          x: 0
          y: 0
      y: 0
      lineMaxHeight: 19
    - lineParts:
        - text: "multiple lines when it exceeds the"
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 300
            breakWords: false
            strokeColor: "transparent"
            strokeWidth: 0
          x: 0
          y: 19
      y: 19
      lineMaxHeight: 19
    - lineParts:
        - text: "specified width constraint for proper text"
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 300
            breakWords: false
            strokeColor: "transparent"
            strokeWidth: 0
          x: 0
          y: 38
      y: 38
      lineMaxHeight: 19
    - lineParts:
        - text: "layout demonstration."
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 300
            breakWords: false
            strokeColor: "transparent"
            strokeWidth: 0
          x: 0
          y: 57
      y: 57
      lineMaxHeight: 19
  width: 300
  height: 76
  x: 50
  y: 50
  originX: 0
  originY: 0
  alpha: 1
  speed: 50
  revealEffect: typewriter 
  textStyle:
    strokeColor: "transparent"
    strokeWidth: 0
    fontSize: 20
    fill: "#2c3e50"
    fontFamily: "Arial"
    align: "left"
    lineHeight: 1.2
    wordWrap: true
    breakWords: false
    wordWrapWidth: 0
---
case: Test parsing text-revealing with multiple styled content segments
in:
  - state:
      id: 'tr4'
      type: "text-revealing"
      content:
        - text: "Hello"
          textStyle:
            fontSize: 24
            fill: "#e74c3c"
        - text: " "
        - text: "World"
          textStyle:
            fontSize: 32
            fill: "#3498db"
            fontWeight: "bold"
        - text: "!"
          textStyle:
            fontSize: 28
            fill: "#27ae60"
      x: 200
      y: 200
      width: 200
out:
  id: "tr4"
  type: "text-revealing"
  content:
    - lineParts:
        - text: "Hello"
          textStyle:
            fontSize: 24
            fill: "#e74c3c"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 29
            wordWrap: true
            wordWrapWidth: 200
            strokeWidth: 0
            strokeColor: transparent
            breakWords: false
          x: 0
          y: 9
        - text: "Â "
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 145
            strokeWidth: 0
            strokeColor: transparent
            breakWords: false
          x: 55
          y: 19
        - text: "World"
          textStyle:
            fontSize: 32
            fill: "#3498db"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 38
            wordWrap: true
            fontWeight: "bold"
            wordWrapWidth: 141
            strokeWidth: 0
            strokeColor: transparent
            breakWords: false
          x: 59
          y: 0
        - text: "!"
          textStyle:
            fontSize: 28
            fill: "#27ae60"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 34
            wordWrap: true
            wordWrapWidth: 51
            strokeWidth: 0
            strokeColor: transparent
            breakWords: false
          x: 149
          y: 4
      y: 0
      lineMaxHeight: 38
  width: 200
  height: 38
  x: 200
  y: 200
  originX: 0
  originY: 0
  alpha: 1
  speed: 50
  revealEffect: typewriter 
  textStyle:
    fontSize: 16
    fill: "black"
    fontFamily: "Arial"
    align: "left"
    lineHeight: 1.2
    wordWrap: true
    strokeWidth: 0
    strokeColor: transparent
    breakWords: false
    wordWrapWidth: 0
---
case: Test parsing text-revealing with indicator props
in:
  - state:
      id: 'tr5'
      type: "text-revealing"
      content:
        - text: "Text with indicator"
      x: 100
      y: 100
      indicator:
        revealing:
          src: "arrow-right"
          width: 12
          height: 12
        complete:
          src: "checkmark"
          width: 14
          height: 14
        offset: 8
out:
  id: "tr5"
  type: "text-revealing"
  content:
    - lineParts:
        - text: "Text with indicator"
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 500
            strokeWidth: 0
            strokeColor: transparent
            breakWords: false
          x: 0
          y: 0
      y: 0
      lineMaxHeight: 19
  width: 500
  height: 19
  x: 100
  y: 100
  originX: 0
  originY: 0
  alpha: 1
  speed: 50
  revealEffect: typewriter 
  indicator:
    revealing:
      src: "arrow-right"
      width: 12
      height: 12
    complete:
      src: "checkmark"
      width: 14
      height: 14
    offset: 8
  textStyle:
    fontSize: 16
    fill: "black"
    fontFamily: "Arial"
    align: "left"
    lineHeight: 1.2
    wordWrap: true
    strokeWidth: 0
    strokeColor: transparent
    breakWords: false
    wordWrapWidth: 0
---
case: Test parsing text-revealing with indicator default values
in:
  - state:
      id: 'tr6'
      type: "text-revealing"
      content:
        - text: "Text with indicator defaults"
      x: 50
      y: 50
      indicator:
        revealing:
          src: "circle-blue"
        complete:
          src: "circle-green"
out:
  id: "tr6"
  type: "text-revealing"
  content:
    - lineParts:
        - text: "Text with indicator defaults"
          textStyle:
            fontSize: 16
            fill: "black"
            fontFamily: "Arial"
            align: "left"
            lineHeight: 19
            wordWrap: true
            wordWrapWidth: 500
            strokeWidth: 0
            strokeColor: transparent
            breakWords: false
          x: 0
          y: 0
      y: 0
      lineMaxHeight: 19
  width: 500
  height: 19
  x: 50
  y: 50
  originX: 0
  originY: 0
  alpha: 1
  speed: 50
  revealEffect: typewriter 
  indicator:
    revealing:
      height: 12
      width: 12
      src: "circle-blue"
    complete:
      height: 12
      width: 12
      src: "circle-green"
    offset: 12
  textStyle:
    fontSize: 16
    fill: "black"
    fontFamily: "Arial"
    align: "left"
    lineHeight: 1.2
    wordWrap: true
    strokeWidth: 0
    strokeColor: transparent
    breakWords: false
    wordWrapWidth: 0