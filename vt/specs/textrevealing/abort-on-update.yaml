---
title: Abort Revealing on Update
description: Tests that updating a text-revealing element mid-animation aborts the previous loop
specs:
  - "Previous revealing loop should abort when element is updated"
  - "New content should reveal cleanly after abort"
steps:
  - keypress n
  - wait 3000
  - screenshot
---
states:
  - elements:
      - id: 'abort-test'
        type: "text-revealing"
        content:
          - text: "This text should be interrupted before finishing because it is long enough to wrap onto a second line"
            textStyle:
              fontSize: 24
              fill: "#3498db"
              fontFamily: "Arial"
        x: 50
        y: 50
        width: 500
        speed: 30
  - elements:
      - id: 'abort-test'
        type: "text-revealing"
        content:
          - text: "Replaced"
            textStyle:
              fontSize: 24
              fill: "#e74c3c"
              fontFamily: "Arial"
        x: 50
        y: 50
        width: 500
        speed: 50
