---
title: Rect Drag Events
description: Test drag events on rect elements
specs:
  - "rect should send actionPayload on drag.down"
  - "rect should send actionPayload on drag.move"
  - "rect should send actionPayload on drag.up"
steps:
  - action: customEvent
    name: clearEvents
  - move 220 160
  - mouseDown
  - screenshot
  - move 300 200
  - screenshot
  - move 400 300
  - mouseUp
  - screenshot
  - action: assert
    type: js
    fn: vtAssert.hasEvent
    args: ["drag-start"]
    value: true
  - action: assert
    type: js
    fn: vtAssert.hasEvent
    args: ["drag-move"]
    value: true
  - action: assert
    type: js
    fn: vtAssert.hasEvent
    args: ["drag-end"]
    value: true
  - action: assert
    type: js
    fn: vtAssert.payloadDeepEquals
    args:
      - drag-start
      - - _event:
            id: rect-draggable
          action: drag-start
    value: true
  - action: assert
    type: js
    fn: vtAssert.payloadDeepEquals
    args:
      - drag-move
      - - _event:
            id: rect-draggable
            x: 300
            y: 200
          action: drag-move
        - _event:
            id: rect-draggable
            x: 400
            y: 300
          action: drag-move
    value: true
  - action: assert
    type: js
    fn: vtAssert.payloadDeepEquals
    args:
      - drag-end
      - - _event:
            id: rect-draggable
          action: drag-end
    value: true
---
states:
  - elements:
      - id: 'rect-draggable'
        type: "rect"
        x: 200
        y: 150
        width: 200
        height: 100
        fill: "#A6A6A6"
        cursor: "pointer"
        drag:
          start:
            actionPayload:
              action: "drag-start"
          move:
            actionPayload:
              action: "drag-move"
          end:
            actionPayload:
              action: "drag-end"
